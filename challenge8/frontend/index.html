<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Challenge 8 Group 2</title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900|Quicksand:400,700|Questrial" rel="stylesheet" />
<link href="default.css" rel="stylesheet" type="text/css" media="all" />
<link href="fonts.css" rel="stylesheet" type="text/css" media="all" />
<script src="/socket.io/socket.io.js"></script>
<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
<link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
<script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
<!--[if IE 6]><link href="default_ie6.css" rel="stylesheet" type="text/css" /><![endif]-->
  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>


 <script>
  var socket = io();
  var location1 = [0,0];
  var location2 = [0,0]; 
  var location3 = [0,0];
  var data;
  var Power = 0;
  var Switch = 0;
  socket.on('location', function(location){
  	//location3 = location2;
  	//location2 = location1; 
    	//location1 = [parseInt(location) / 6 * 25, ((parseInt(location) % 6) - 1) * 28];
	data = parseInt(location);
	console.log("adfasdfasdf");
	console.log("data is " + data);
	//$('#location').text(location.data);
	//process.stdout.write(data.letter);
	//addMessae(data.message);
	//$("bullshit").update("new text");

  });
</script>

<script>
   var Red = null;
   //var Green = null;
   //var Black = null;
   var xbeer = null;
   var xbeel = null;
   var xbeeb = null;

  var i=1;
            function init(){
               
			   Red = document.getElementById('Red');
	           //Green = document.getElementById('Green');
			   //Black = document.getElementById('Black');
			   xbeer = document.getElementById('right');
			   xbeel = document.getElementById('left');
			   xbeeb = document.getElementById('bottom');
			   xbeeb2 = document.getElementById('bottom2');
               Red.style.position= 'absolute'; 
               Red.style.left ="500px";
			   Red.style.top="500px";
			   //Green.style.position= 'absolute'; 
               //Green.style.left ="240px";
			   //Green.style.top="250px";
			   //Black.style.position= 'absolute'; 
               //Black.style.left ="270px";
			   //Black.style.top="250px";
			   xbeer.style.position='absolute';
			   xbeer.style.left="880px";
			   xbeer.style.top="770px";
			   xbeel.style.position='absolute';
			   xbeel.style.left="10px";
			   xbeel.style.top="130px";
			   xbeeb.style.position='absolute';
			   xbeeb.style.left="10px";
			   xbeeb.style.top="750px";
			   xbeeb2.style.position='absolute';
			   xbeeb2.style.left="880px";
			   xbeeb2.style.top="130px";
            }
			function moveRight(){
				Red.style.left = 310 + Math.round(location1[0] * 2.95) + 'px';
				Red.style.top = 459 + Math.round(location1[1] * 2.43) + 'px';
			}

			function movePoint() {
				//console.log("inside movePoint")
				
				switch(data){
					case 1:
						Red.style.left = "80px";
						Red.style.top = "150px";
						break;
					case 2:
						Red.style.left = "160px";
						Red.style.top = "150px";
						break;		
					case 3:
						Red.style.left = "340px";
						Red.style.top = "150px";
						break;
					case 4:
						Red.style.left = "420px";
						Red.style.top = "150px";
						break;
					case 5:
						Red.style.left = "500px";
						Red.style.top = "150px";
						break;
					case 6:
						Red.style.left = "580px";
						Red.style.top = "150px";
						break;				
					case 7:
						Red.style.left = "660px";
						Red.style.top = "150px";
						break;				
					case 8:
						Red.style.left = "720px";
						Red.style.top = "150px";
						break;				
					case 9:
						Red.style.left = "800px";
						Red.style.top = "150px";
						break;				
					case 10:
						Red.style.left = "860px";
						Red.style.top = "150px";
						break;				
					case 11:
						Red.style.left = "860px";
						Red.style.top = "270px";
						break;				
					case 12:
						Red.style.left = "860px";
						Red.style.top = "410px";
						break;				
					case 13:
						Red.style.left = "860px";
						Red.style.top = "570px";
						break;				
					case 14:
						Red.style.left = "860px";
						Red.style.top = "710px";
						break;				
					case 15:
						Red.style.left = "800px";
						Red.style.top = "710px";
						break;				
					case 16:
						Red.style.left = "720px";
						Red.style.top = "710px";
						break;				
					case 17:
						Red.style.left = "660px";
						Red.style.top = "710px";
						break;				
					case 18:
						Red.style.left = "580px";
						Red.style.top = "710px";
						break;				
					case 19:
						Red.style.left = "500px";
						Red.style.top = "710px";
						break;				
					case 20:	
						Red.style.left = "420px";
						Red.style.top = "710px";
						break;
					case 21:
						Red.style.left = "340px";
						Red.style.top = "710px";
						break;
					case 22:
						Red.style.left = "160px";
						Red.style.top = "710px";
						break;
					case 23:
						Red.style.left = "80px";
						Red.style.top = "710px";
						break;
					case 24:
						Red.style.left = "80px";
						Red.style.top = "570px";
						break;
					case 25:
						Red.style.left = "80px";
						Red.style.top = "410px";
						break;
					case 26:
						Red.style.left = "80px";
						Red.style.top = "260px";					
						break;															
					case 27:
						Red.style.left = "780px";
						Red.style.top = "410px";					
						break;															

				} 

			}

			function PowerOn(){
				var state = '1';
    			socket.emit('states', state);
			}
			function PowerOff(){
				var state = '0';
    			socket.emit('states', state);
			}
				

			function Manual(){
				var state = 'M';
    			socket.emit('states', state);
			}
			function Auto(){
				var state = 'A';
    			socket.emit('states', state);
			}
				
            window.onload = init;
			setInterval(function(){
			movePoint();
			//Power(Power);
			   }, 1000);
</script>
<style type="text/css">
    div.crawler {
        position: absolute;
        top: 31%;
        left: 22.5%;
        width: 52%;
        height: 69%;
        background-color:rgba(0,0,0,0.5);
        border-radius:9px;
    }
    
</style>
</head>
<body>
<div id="header-wrapper">
	<div id="header" class="container">
	<button id="Pon" onClick="PowerOn();">PowerOn</button>
	<button id="Poff" onClick="PowerOff();">PowerOff</button><br />
	<button id="M" onClick="Manual();">Manual</button>
	<button id="A" onClick="Auto();">Auto</button>
	</div>
</div>
<div class="wrapper">
	<img id="room" class="displayed" src="images/floorplan.png" margin-top="30px" position="relative" width="1000" height="700" alt="" /></div>
	<div style="margin:0 auto; width:1000px;"><img id="Red" class="point" src="images/Red.png" alt="CAR" position="relative" height="30px" width="30px"/>
    <img id="left" class="point" src="images/Xbeel.jpeg" alt="XBEE" position="relative" height="30px" width="30px" top="15%" left="10%"/>
    <img id="right" class="point" src="images/Xbeel.jpeg" alt="XBEE" position="relative" height="30px" width="30px"/>
    <img id="bottom" class="point" src="images/Xbeel.jpeg" alt="XBEE" position="relative" height="30px" width="30px"/>
    <img id="bottom2" class="point" src="images/Xbeel.jpeg" alt="XBEE" position="relative" height="30px" width="30px"/>
	<div id="welcome" class="container">
    	

<div class="crawler">
  <h3 align="middle"  style="font-size:3.0vh; margin-top:3%; color:rgba(255,255,255,1)">Crawler</h3>
  <img id="video" src="http://192.168.1.156:8080/?action=stream" width="80%" height="60%" style=" position: relative; margin: auto; top: 0; left: 0; right: 0; bottom: 0" />
  <button id="G" onClick="Continue()" onkeydown="Go(g);" style="display:block; font-weight:bold;font-size:1.8vh; text-align: middle; position: absolute; top:85%; left: 20%" class="pure-button pure-button-primary" align ="top">Continue</button>
  <button onClick="Pause();" style="display:block; font-weight:bold;font-size:1.8vh; text-align: middle; position: absolute; top:85%; right: 20%" class="pure-button" align ="top">Pause</button>
  <button onClick="Forward();" style="display:block; font-weight:bold;font-size:1.8vh; text-align: middle; position: absolute; top:75%; left: 45%" class="pure-button pure-button-primary" align ="top">Forward</button>
  <button onClick="Backward();" style="display:block; font-weight:bold;font-size:1.8vh; text-align: middle; position: absolute; top:85%; left: 45%" class="pure-button pure-button-primary" align ="top">Backward</button>
  <button onClick="Left();" style="display:block; font-weight:bold;font-size:1.8vh; text-align: middle; position: absolute; top:80%; left: 30%" class="pure-button pure-button-primary" align ="top">Left</button>
  <button onClick="Right();" style="display:block; font-weight:bold;font-size:1.8vh; text-align: middle; position: absolute; top:80%; right: 30%" class="pure-button pure-button-primary" align ="top">Right</button>
</div>
<script>  
  function Continue() {
    var state = 'C';
    socket.emit('states', state);
  }
  function Pause() {
    var state = 'P';
    socket.emit('states', state);
  }
  function Forward(){
    var state = 'F';
    socket.emit('states', state);
    
  }
  function Backward(){
    var state = 'B';
    socket.emit('states', state);
    
  }
  function Left(){
    var state = 'L';
    socket.emit('states', state);
    
  }
  function Right(){
    var state = 'R';
    socket.emit('states', state);
    
  }
</script>

</body>
</html>

