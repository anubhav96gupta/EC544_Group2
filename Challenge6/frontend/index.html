<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900|Quicksand:400,700|Questrial" rel="stylesheet" />
<link href="default.css" rel="stylesheet" type="text/css" media="all" />
<link href="fonts.css" rel="stylesheet" type="text/css" media="all" />
script src="/socket.io/socket.io.js"></script>
<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>

<!--[if IE 6]><link href="default_ie6.css" rel="stylesheet" type="text/css" /><![endif]-->
  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>


 <script>
  var socket = io();
  var location1 = [0,0];
  var location2 = [0,0]; 
  var location3 = [0,0];

  var data;


  socket.on('location', function(location){
  	//location3 = location2;
  	//location2 = location1; 
    	//location1 = [parseInt(location) / 6 * 25, ((parseInt(location) % 6) - 1) * 28];
	data = parseInt(location);
	console.log("adfasdfasdf");
	console.log("data is " + data);
	//$('#location').text(location.data);
	//process.stdout.write(data.letter);
	//addMessae(data.message);
	//$("bullshit").update("new text");

  });
</script>

<script>
   var Red = null;
   //var Green = null;
   //var Black = null;
   var xbeer = null;
   var xbeel = null;
   var xbeeb = null;

  var i=1;
            function init(){
			   Red = document.getElementById('Red');
	           //Green = document.getElementById('Green');
			   //Black = document.getElementById('Black');
			   xbeer = document.getElementById('right');
			   xbeel = document.getElementById('left');
			   xbeeb = document.getElementById('bottom');
			   xbeeb2 = document.getElementById('bottom2');
               Red.style.position= 'absolute'; 
               Red.style.left ="500px";
			   Red.style.top="500px";
			   //Green.style.position= 'absolute'; 
               //Green.style.left ="240px";
			   //Green.style.top="250px";
			   //Black.style.position= 'absolute'; 
               //Black.style.left ="270px";
			   //Black.style.top="250px";
			   xbeer.style.position='absolute';
			   xbeer.style.left="880px";
			   xbeer.style.top="760px";
			   xbeel.style.position='absolute';
			   xbeel.style.left="10px";
			   xbeel.style.top="120px";
			   xbeeb.style.position='absolute';
			   xbeeb.style.left="10px";
			   xbeeb.style.top="740px";
			   xbeeb2.style.position='absolute';
			   xbeeb2.style.left="880px";
			   xbeeb2.style.top="120px";
            }
			function moveRight(){
				Red.style.left = 310 + Math.round(location1[0] * 2.95) + 'px';
				Red.style.top = 459 + Math.round(location1[1] * 2.43) + 'px';
				//Red.style.left = parseInt(Red.style.left) + 20 + 'px';
				//Red.style.top = parseInt(Red.style.top) + 10 + 'px';
				//Green.style.left = parseInt(Green.style.left) + 20 + 'px';
				//Green.style.top = parseInt(Green.style.top) + 10 + 'px';
				//Black.style.left = parseInt(Black.style.left) + 20 + 'px';
				//Black.style.top = parseInt(Black.style.top) + 10 + 'px';
			}

//function getValu(){
//return data;
//}

			function movePoint() {
				//console.log("inside movePoint")
				
				switch(data){
					case 1:
						Red.style.left = "80px";
						Red.style.top = "140px";
						break;
					case 2:
						Red.style.left = "160px";
						Red.style.top = "140px";
						break;		
					case 3:
						Red.style.left = "340px";
						Red.style.top = "140px";
						break;
					case 4:
						Red.style.left = "420px";
						Red.style.top = "140px";
						break;
					case 5:
						Red.style.left = "500px";
						Red.style.top = "140px";
						break;
					case 6:
						Red.style.left = "580px";
						Red.style.top = "140px";
						break;				
					case 7:
						Red.style.left = "660px";
						Red.style.top = "140px";
						break;				
					case 8:
						Red.style.left = "720px";
						Red.style.top = "140px";
						break;				
					case 9:
						Red.style.left = "800px";
						Red.style.top = "140px";
						break;				
					case 10:
						Red.style.left = "860px";
						Red.style.top = "140px";
						break;				
					case 11:
						Red.style.left = "860px";
						Red.style.top = "260px";
						break;				
					case 12:
						Red.style.left = "860px";
						Red.style.top = "400px";
						break;				
					case 13:
						Red.style.left = "860px";
						Red.style.top = "560px";
						break;				
					case 14:
						Red.style.left = "860px";
						Red.style.top = "700px";
						break;				
					case 15:
						Red.style.left = "800px";
						Red.style.top = "700px";
						break;				
					case 16:
						Red.style.left = "720px";
						Red.style.top = "700px";
						break;				
					case 17:
						Red.style.left = "660px";
						Red.style.top = "700px";
						break;				
					case 18:
						Red.style.left = "580px";
						Red.style.top = "700px";
						break;				
					case 19:
						Red.style.left = "500px";
						Red.style.top = "700px";
						break;				
					case 20:	
						Red.style.left = "420px";
						Red.style.top = "700px";
						break;
					case 21:
						Red.style.left = "340px";
						Red.style.top = "700px";
						break;
					case 22:
						Red.style.left = "160px";
						Red.style.top = "700px";
						break;
					case 23:
						Red.style.left = "80px";
						Red.style.top = "700px";
						break;
					case 24:
						Red.style.left = "80px";
						Red.style.top = "560px";
						break;
					case 25:
						Red.style.left = "80px";
						Red.style.top = "400px";
						break;
					case 26:
						Red.style.left = "80px";
						Red.style.top = "250px";					
						break;															

				} 

				//Red.style.left = "80px";
				//Red.style.top = "370px";

			}

			//function realLocation(){
			//	console.log("inside real location");
			//	var x = document.getElementById("fname");
			//	console.log(x);
			//}
		
            window.onload = init;
			setInterval(function(){
			//moveRight();
			movePoint();
			//realLocation();
			//$("bullshit").update("new text");
			   }, 1000);
</script>
</head>
<body>
<div id="header-wrapper">
	<div id="header" class="container">
		 <form action="demo_form.asp">
  Real Location: <input type="text" name="fname"><br>

</form> 
		<!--<div id="logo">
			<h1><a href="#">XBee</a><span style="font-size:0.6em;"> Localization</span></h1>
		</div>

<div style="color:red"><h1><script>document.write(getValue()) </script></h1> </div>
<div id="location"></div>

		<!--div id="menu">
			<ul>
				<li class="active"><a href="#" accesskey="1" title="">Homepage</a></li>
				<li><a href="#" accesskey="3" title="">About Us</a></li>
				<li><a href="#" accesskey="5" title="">Contact Us</a></li>
			</ul>
		</div-->
	</div>
</div>
<div class="wrapper">
	<img id="room" class="displayed" src="images/floorplan.png" margin-top="30px" position="relative" width="1000" height="700" alt="" /></div>
	<div style="margin:0 auto; width:1000px;"><img id="Red" class="point" src="images/Red.png" alt="CAR" position="absolute" height="30px" width="30px"/>
	<!--img id="Green" class="point" src="images/Green.png" alt="CAR2" position="absolute" height="30px" width="30px"/-->
	<!--img id="Black" class="point" src="images/Black.png" alt="CAR3" position="absolute" height="30px" width="30px"/-->
    <img id="left" class="point" src="images/beacon.png" alt="XBEE" position="absolute" height="30px" width="30px"/>
    <img id="right" class="point" src="images/beacon.png" alt="XBEE" position="absolute" height="30px" width="30px"/>
    <img id="bottom" class="point" src="images/beacon.png" alt="XBEE" position="absolute" height="30px" width="30px"/>
    <img id="bottom2" class="point" src="images/beacon.png" alt="XBEE" position="absolute" height="30px" width="30px"/>
	
	<div id="welcome" class="container">
    	
<div class="title">
	  <h4></h4>
		</div>
		<p>XBee Localization using KNN</p>
	</div>
	
</div> 

</body>
</html>

